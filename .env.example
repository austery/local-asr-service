# ====================================================================================
# Local ASR Service - 环境变量配置示例
# ====================================================================================
# 复制此文件为 .env 并修改配置
# cp .env.example .env
# ====================================================================================

# ====================================
# 引擎配置 (Engine Configuration)
# ====================================

# 引擎类型: funasr (FunASR/SenseVoice) 或 mlx (MLX Audio)
ENGINE_TYPE=funasr

# 通用模型 ID（优先级最高，会覆盖下面的引擎特定配置）
# MODEL_ID=mlx-community/VibeVoice-ASR-4bit

# FunASR 引擎默认模型
FUNASR_MODEL_ID=iic/SenseVoiceSmall

# MLX 引擎默认模型
MLX_MODEL_ID=mlx-community/VibeVoice-ASR-4bit

# ====================================
# 服务配置 (Service Configuration)
# ====================================

# 服务监听地址
HOST=0.0.0.0

# 服务监听端口
PORT=50070

# 最大队列深度（防止 OOM）
MAX_QUEUE_SIZE=50

# ====================================
# 日志配置 (Logging Configuration)
# ====================================

# 日志级别: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# ====================================
# 支持的 MLX 模型列表 (参考)
# ====================================
# 使用时取消注释并设置 ENGINE_TYPE=mlx 和 MODEL_ID

# 微软 VibeVoice（推荐，支持60分钟长音频）
# MODEL_ID=mlx-community/VibeVoice-ASR-4bit         # 4-bit 量化版（推荐，约 4-5 GB）
# MODEL_ID=mlx-community/VibeVoice-ASR-bf16         # 全精度版（约 18 GB）

# OpenAI Whisper 系列
# MODEL_ID=mlx-community/whisper-large-v3-turbo-asr-fp16    # Turbo 版（约 1.5 GB）
# MODEL_ID=mlx-community/whisper-large-v3                   # Large V3（约 3 GB）

# 阿里 Qwen3-ASR
# MODEL_ID=mlx-community/Qwen3-ASR-1.7B-8bit        # 8-bit 量化版（约 1-2 GB）

# NVIDIA Parakeet（仅英文）
# MODEL_ID=mlx-community/parakeet-tdt-0.6b-v2       # 0.6B 参数（约 600 MB）

# ====================================
# 模型存储位置 (Model Storage Paths)
# ====================================
# 模型会自动下载到以下位置（无需手动配置）：
# 
# FunASR 模型:      ~/.cache/modelscope/hub/models/iic/
# MLX Audio 模型:   ~/.cache/huggingface/hub/
#
# 查看已下载模型：
#   ls -lh ~/.cache/modelscope/hub/models/iic/
#   ls -lh ~/.cache/huggingface/hub/
#
# 清理模型缓存：
#   rm -rf ~/.cache/modelscope/hub/models/iic/SenseVoiceSmall
#   rm -rf ~/.cache/huggingface/hub/models--mlx-community*
